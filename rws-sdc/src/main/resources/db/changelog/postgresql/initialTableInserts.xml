<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog
	xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd">
			 
	<changeSet author="initial" id="20230707_50006">
		<sql dbms="postgresql">
			INSERT INTO companies (id,name,codes) VALUES
				 (2,'Allianz','ALZ,AZS'),
				 (3,'Colombia','AZC,COL'),
				 (4,'Brazil','AZB,BRA'),
				 (8,'Portugal','AZP'),
				 (7,'Fenix Direct','FD'),
				 (1,'Allianz Popular','APO'),
				 (6,'Allianz Mexico','AZM,MEX'),
				 (5,'Allianz Argentina','AZA,ARG'),
				 (9,'Amaya','AMA');
		</sql>
	</changeSet>
				 
	<changeSet author="initial" id="20230707_50007">
		<sql dbms="postgresql">
			INSERT INTO departments (id,name,company_id) VALUES
				 (0,'SDC GENERIC',2),
				 (13,'SDC. DE TECNOLOGIA',3);
		</sql>
	</changeSet>
				 
	<changeSet author="initial" id="20230707_50008">
		<sql dbms="postgresql">
			INSERT INTO squads (id,name,department_id) VALUES
				 (42,'CO_SDC. DE DESARROLLO',13),
				 (75,'CO_SDC. INFRAESTRUCTURA Y COMUNICACIONES',13);
		</sql>
	</changeSet>
				 
	<changeSet author="initial" id="20230707_50009">
		<sql dbms="postgresql">
			INSERT INTO metrics (name,value,type,metric_value_type,metric_validation) VALUES
				 ('Junit Coverage','coverage','SONAR','NUMERIC','LTE'),
				 ('Alert Status','alert_status','SONAR',NULL,NULL),
				 ('Bugs','bugs','SONAR','NUMERIC','GTE'),
				 ('Reliability Rating','reliability_rating','SONAR',NULL,NULL),
				 ('Vulnerabilities','vulnerabilities','SONAR','NUMERIC','GTE'),
				 ('Security Rating','security_rating','SONAR',NULL,NULL),
				 ('Recurity Hotspots Reviewed','security_hotspots_reviewed','SONAR',NULL,NULL),
				 ('Security Review Rating','security_review_rating','SONAR',NULL,NULL),
				 ('Code Smells','code_smells','SONAR',NULL,NULL),
				 ('Sqale Index','sqale_index','SONAR',NULL,NULL);
			INSERT INTO metrics (name,value,type,metric_value_type,metric_validation) VALUES
				 ('Duplicated Lines Density','duplicated_lines_density','SONAR','NUMERIC','GTE'),
				 ('ncloc','ncloc','SONAR',NULL,NULL),
				 ('ncloc language distribution','ncloc_language_distribution','SONAR',NULL,NULL),
				 ('Projects','projects','SONAR',NULL,NULL),
				 ('Info Violations','info_violations','SONAR','NUMERIC','GTE'),
				 ('Minor Errors','minor_violations','SONAR','NUMERIC','GTE'),
				 ('Major Errors','major_violations','SONAR','NUMERIC','GTE'),
				 ('Critical Errors','critical_violations','SONAR','NUMERIC','GTE'),
				 ('Blocker Errors','blocker_violations','SONAR','NUMERIC','GTE');
			INSERT INTO metrics (name,value,type,metric_value_type,metric_validation) VALUES
				 ('Legacy parent version','#get{parent/version}','GIT_XML','VERSION','LTE'),
				 ('Bff Java Version','#get{properties/java.version}','GIT_XML','VERSION','LTE'),
				 ('Microservice Parent Version','#get{parent/version}','GIT_XML','VERSION','LTE'),
				 ('Angular Version','#get{devDependencies.@angular/cli}','GIT_JSON','VERSION','LTE');
			INSERT INTO metrics (name,value,type,metric_value_type,metric_validation) VALUES
				 ('Low Vulnerabilites','low_severity','DEPENDABOT','NUMERIC','GTE'),
				 ('Medium Vulnerabilities','medium_severity','DEPENDABOT','NUMERIC','GTE'),
				 ('High Vulnerabilites','high_severity','DEPENDABOT','NUMERIC','GTE'),
				 ('Critical Vulnerabilities','critical_severity','DEPENDABOT','NUMERIC','GTE');
			INSERT INTO metrics (name,value,type,metric_value_type,metric_validation) VALUES
				 ('Code Lines','lines','SONAR','NUMERIC',NULL);
			INSERT INTO metrics (name,value,type,metric_value_type,metric_validation,config) VALUES
				 ('Config Metric','lines','COMPLEX','NUMERIC',NULL,
					'{
						"type": "com.shagui.sdc.util.metric.DeprecatedLibs",
						"config": {
							"libs": ["com.mysql"],
							"args": ""
						}
					}'
				 );
		</sql>
	</changeSet>

	<changeSet author="initial" id="20230707_50014">
		<sql dbms="postgresql">
			INSERT INTO component_type_architectures (component_type,network,deployment_type,platform,architecture,"language") VALUES
				 ('frontend::library','none','none','cloud','rws','typescript'),
				 ('frontend::library','none','none','on-premises','rws','typescript'),
				 ('frontend::library','user-integration','static','cloud','sea::legacy','javascript'),
				 ('frontend::library','user-integration','static','on-premises','sea::legacy','javascript'),
				 ('frontend::library','user-integration','jboss','cloud','sea::legacy','java'),
				 ('frontend::library','user-integration','jboss','on-premises','sea::legacy','java'),
				 ('frontend::angular','user-integration::public','container','cloud','rws','typescript'),
				 ('frontend::angular','user-integration::public','static','on-premises','rws','typescript'),
				 ('frontend::angular','user-integration::private','container','cloud','rws','typescript'),
				 ('frontend::angular','user-integration::private','static','on-premises','rws','typescript');
			INSERT INTO component_type_architectures (component_type,network,deployment_type,platform,architecture,"language") VALUES
				 ('frontend::bff','user-integration::public','container','cloud','rws','java'),
				 ('frontend::bff','user-integration::public','jboss','on-premises','rws','java'),
				 ('frontend::bff','user-integration::private','container','cloud','rws','java'),
				 ('frontend::bff','user-integration::private','jboss','on-premises','rws','java'),
				 ('frontend::ssr','user-integration::public','container','cloud','sea::legacy','java'),
				 ('frontend::ssr','user-integration::public','jboss','on-premises','sea::legacy','java'),
				 ('frontend::ssr','user-integration::private','container','cloud','sea::legacy','java'),
				 ('frontend::ssr','user-integration::private','jboss','on-premises','sea::legacy','java'),
				 ('frontend::anonymous','user-integration','container','cloud','rws','java'),
				 ('frontend::anonymous','user-integration','jboss','on-premises','rws','java');
			INSERT INTO component_type_architectures (component_type,network,deployment_type,platform,architecture,"language") VALUES
				 ('frontend::anonymous','user-integration','container','cloud','rws','typescript'),
				 ('frontend::anonymous','user-integration','jboss','on-premises','rws','typescript'),
				 ('integration::rest','third-party-integration::public','container','cloud','rws','java'),
				 ('integration::rest','third-party-integration::public','jboss','on-premises','rws','java'),
				 ('integration::rest','third-party-integration::private','container','cloud','rws','java'),
				 ('integration::rest','third-party-integration::private','jboss','on-premises','rws','java'),
				 ('integration::soap','third-party-integration::public','container','cloud','rws','java'),
				 ('integration::soap','third-party-integration::public','jboss','cloud','axis::legacy','java'),
				 ('integration::soap','third-party-integration::public','jboss','on-premises','axis::legacy','java'),
				 ('integration::soap','third-party-integration::private','jboss','cloud','axis::legacy','java');
			INSERT INTO component_type_architectures (component_type,network,deployment_type,platform,architecture,"language") VALUES
				 ('integration::soap','third-party-integration::private','jboss','on-premises','axis::legacy','java'),
				 ('backend::library','none','none','cloud','rws','java'),
				 ('backend::library','none','jboss','on-premises','rws','java'),
				 ('backend::starter','none','none','cloud','rws','java'),
				 ('backend::starter','none','jboss','on-premises','rws','java'),
				 ('backend::library','business-logic','jboss','cloud','module::legacy','java'),
				 ('backend::library','business-logic','jboss','on-premises','module::legacy','java'),
				 ('backend::library','business-logic','jboss','cloud','shared::legacy','java'),
				 ('backend::library','business-logic','jboss','on-premises','shared::legacy','java'),
				 ('backend::rest','business-logic','container','cloud','rws','java');
			INSERT INTO component_type_architectures (component_type,network,deployment_type,platform,architecture,"language") VALUES
				 ('backend::rest','business-logic','jboss','on-premises','rws','java'),
				 ('integration::soap','third-party-integration::public','jboss','on-premises','rws','java'),
				 ('integration::soap','third-party-integration::private','container','cloud','rws','java'),
				 ('integration::soap','third-party-integration::private','jboss','on-premises','rws','java'),
				 ('backend::rest','business-logic','jboss','cloud','rws::legacy','java'),
				 ('backend::rest','business-logic','jboss','on-premises','rws::legacy','java'),
				 ('backend::batch','business-logic','container','cloud','rws','java'),
				 ('backend::batch','business-logic','standalone','on-premises','rws','java'),
				 ('backend::batch','business-logic','container','cloud','batch::legacy','java'),
				 ('backend::batch','business-logic','standalone','on-premises','batch::legacy','java');
			INSERT INTO component_type_architectures (component_type,network,deployment_type,platform,architecture,"language") VALUES
				 ('backend::ebs','business-logic','container','cloud','rws','java'),
				 ('backend::ebs','business-logic','jboss','on-premises','rws','java');
		</sql>
	</changeSet>

	<changeSet author="initial" id="20230707_50015">
		<sql dbms="postgresql">
			INSERT INTO components (name,component_type_architecture_id,squad_id) VALUES
				 ('empty',7,42),
				 ('sdc',9,42),
				 ('storm:aff3ct:gitlab:master',15,75),
				 ('cardamom:mmg:github:master',15,75);		
		</sql>
	</changeSet>
				 
	<changeSet author="initial" id="20230707_50016">
		<sql dbms="postgresql">
			INSERT INTO component_uris (component_id,uri_name) VALUES
				 (1,'git-public'),
				 (1,'dependabot'),
				 (2,'git-private'),
				 (2,'dependabot'),
				 (3,'sonar-repo'),
				 (4,'sonar-repo');
		</sql>
	</changeSet>

	<changeSet author="initial" id="20230707_50017">
		<sql dbms="postgresql">
			INSERT INTO component_type_architecture_metrics (component_type_architecture_id,metric_id) VALUES
				 (7,20),
				 (7,21),
				 (7,22),
				 (7,23);
			INSERT INTO component_type_architecture_metrics (component_type_architecture_id,metric_id) VALUES
				 (9,21),
				 (9,22),
				 (9,23),
				 (9,24);
			INSERT INTO component_type_architecture_metrics (component_type_architecture_id,metric_id) VALUES
				 (15,1),
				 (15,2),
				 (15,3),
				 (15,4),
				 (15,5),
				 (15,6),
				 (15,7),
				 (15,8),
				 (15,9),
				 (15,10),
				 (15,11),
				 (15,12),
				 (15,13),
				 (15,15),
				 (15,16),
				 (15,17),
				 (15,18),
				 (15,19);
		</sql>
	</changeSet>

	<changeSet author="initial" id="20230707_50018">
		<sql dbms="postgresql">
			INSERT INTO component_properties (name,value,component_id) VALUES
				 ('organization','shaguixyz',1),
				 ('ngx_path','ngx-empty',1),
				 ('bff_path','bff-empty',1),
				 ('rws_path','rws-empty',1),
				 ('organization','shaguixyz',2),
				 ('ngx_path','ngx-sdc',2),
				 ('bff_path','bff-sdc',2),
				 ('rws_path','rws-sdc',2);
		</sql>
	</changeSet>
	
	<changeSet author="initial" id="20230707_50019">
		<sql dbms="postgresql">
			INSERT INTO metric_values (component_type_architecture_id,metric_id,metric_value_date,metric_value_weight,metric_expected_value,metric_good_value,metric_perfect_value) VALUES
				 (7,20,'2023-03-01 10:57:21.597993',60,'40','25','5'),
				 (7,21,'2023-03-01 10:57:21.597993',60,'40','25','5'),
				 (7,22,'2023-03-01 10:57:21.597993',60,'40','25','5'),
				 (7,23,'2023-03-01 10:57:21.597993',60,'40','25','5');
			INSERT INTO metric_values (component_type_architecture_id,metric_id,metric_value_date,metric_value_weight,metric_expected_value,metric_good_value,metric_perfect_value) VALUES
				 (9,21,'2023-03-01 10:57:21.597993',60,'40','25','5'),
				 (9,22,'2023-03-01 10:57:21.597993',60,'40','25','5'),
				 (9,23,'2023-03-01 10:57:21.597993',60,'40','25','5');
			INSERT INTO metric_values (component_type_architecture_id,metric_id,metric_value_date,metric_value_weight,metric_expected_value,metric_good_value,metric_perfect_value) VALUES
				 (15,1,'2023-03-01 10:57:21.597993',250,'70','85','90'),
				 (15,3,'2023-03-01 10:57:21.597993',40,'30','20','5'),
				 (15,4,'2023-03-01 10:57:21.597993',10,'1.4','5','5'),
				 (15,5,'2023-03-01 10:57:21.597993',60,'40','25','5'),
				 (15,17,'2023-03-01 10:57:21.597993',60,'40','25','5'),
				 (15,18,'2023-03-01 10:57:21.597993',60,'40','25','5'),
				 (15,19,'2023-03-01 10:57:21.597993',60,'40','25','5');
		</sql>
	</changeSet>
	
	<changeSet author="initial" id="20230707_50020">
		<sql dbms="postgresql">
			INSERT INTO component_type_architecture_metrics_properties (component_type_architecture_id,metric_id,name,value) VALUES
				(7,20,'PATH','pom.xml'),
				(7,21,'PATH','#{bff_path}/pom.xml'),
				(7,22,'PATH','#{rws_path}/pom.xml'),
				(7,23,'PATH','#{ngx_path}/package.json');
			INSERT INTO component_type_architecture_metrics_properties (component_type_architecture_id,metric_id,name,value) VALUES
				(9,21,'PATH','#{bff_path}/pom.xml'),
				(9,22,'PATH','#{rws_path}/pom.xml'),
				(9,23,'PATH','#{ngx_path}/package.json');
		</sql>
	</changeSet>
</databaseChangeLog>
