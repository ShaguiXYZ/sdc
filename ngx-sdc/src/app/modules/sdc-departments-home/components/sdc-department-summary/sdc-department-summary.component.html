<div *ngIf="department" class="departments-summary">
  <nx-tab-group class="tiny-tabs" (selectedIndexChange)="onDepartmentChage($event)">
    <nx-tab [label]="'Label.DepartmentSumary' | translate">
      <div class="summary-charts">
        <div class="summary-pie-chart sdc-center">
          <sdc-coverage-chart
            [animation]="true"
            [backgroundColor]="BACKGROUND_DEPARTMENT_COLOR"
            [coverage]="department"
            [size]="300"
          ></sdc-coverage-chart>
        </div>
        <div class="summary-bar-chart">
          <header class="title">
            <h4 nxHeadline="subsection-xsmall" class="nx-font-weight-bold">{{ 'Label.ComplianceState' | translate }}</h4>
          </header>
          <div class="chart">
            <sdc-horizontal-bar-chart
              [name]="'Label.ComplianceState' | translate"
              [config]="chartConfig"
              [size]="{ height: 250 }"
            ></sdc-horizontal-bar-chart>
          </div>
        </div>
      </div>
    </nx-tab>
    <nx-tab [label]="'Label.ComponentLanguageDistribution' | translate">
      <div class="language-distribution">
        <ng-container
          *ngIf="departmentSummaryData.languageDistribution && departmentSummaryData.languageDistribution.graph.length; else noData"
        >
          <div class="historical-language-distribution">
            <sdc-time-evolution-multichart
              [data]="departmentSummaryData.languageDistribution"
              [size]="{ height: 330 }"
            ></sdc-time-evolution-multichart>
          </div>
          <div class="actual-language-distribution">
            <sdc-pie-chart
              *ngIf="lastLanguageDistribution"
              [data]="lastLanguageDistribution"
              [title]="'Label.ActualLanguageDistribution' | translate"
            ></sdc-pie-chart>
          </div>
        </ng-container>
      </div>
    </nx-tab>
  </nx-tab-group>
</div>

<ng-template #noData>
  <sdc-no-data></sdc-no-data>
</ng-template>
