<div *ngIf="squad" class="squad-summary">
  <nx-tab-group class="tiny-tabs" [(selectedIndex)]="selectedTabIndex">
    <nx-tab [label]="'Label.SquadSumary' | translate">
      <div class="summary-charts">
        <sdc-coverage-chart
          [animation]="true"
          [backgroundColor]="BACKGROUND_SQUAD_COLOR"
          [coverage]="squad"
          [size]="300"
        ></sdc-coverage-chart>
        <div class="summary-count">
          <sdc-components-state-count [components]="components" (clickStateCount)="onClickStateCount($event)"></sdc-components-state-count>
        </div>
      </div>
    </nx-tab>
    <nx-tab [label]="'Label.ComponentLanguageDistribution' | translate">
      <div class="language-distribution sdc-center">
        <ng-container *ngIf="serviceSummaryData.languageDistribution && lastLanguageDistribution; else noData">
          <sdc-time-evolution-multichart
            *ngIf="chartToShow === 'pie'"
            [data]="serviceSummaryData.languageDistribution"
            [size]="{ height: 330 }"
          ></sdc-time-evolution-multichart>

          <ng-container *ngIf="chartToShow === 'line'">
            <sdc-pie-chart [data]="lastLanguageDistribution" [title]="'Label.ActualLanguageDistribution' | translate"></sdc-pie-chart>
          </ng-container>

          <em class="sdc-op toggle-chart fa-solid fa-chart-{{ chartToShow }}" (click)="toggleChart()"></em>
        </ng-container>
      </div>
    </nx-tab>
  </nx-tab-group>
</div>

<ng-template #noData>
  <sdc-no-data></sdc-no-data>
</ng-template>
